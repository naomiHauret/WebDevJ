import java.awt.Dimension;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.ItemEvent;
import java.awt.event.ItemListener;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;

import javax.swing.Box;
import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JDialog;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JSeparator;
import javax.swing.JTextField;
import javax.swing.border.TitledBorder;


public class Nouveau extends JDialog{
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//VARIABLES
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	private JPanel panel;
	
	private JPanel panel_html;
	private JPanel panel_css;
	private JPanel panel_js;
	private JPanel panel_fichier;
	private JPanel panel_boutons;

	private JCheckBox checkbox_html;
	private JCheckBox checkbox_css;
	private JCheckBox checkbox_js;
	
	private JTextField textfield_html;
	private JTextField textfield_css;
	private JTextField textfield_js;
	
	private JLabel label_html;
	private JLabel label_css;
	private JLabel label_js;
	
	private JButton button_ajouter;
	private JButton button_annuler;
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//CONSTRUCTEUR
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public Nouveau(){
		this.setSize(400, 210);
		this.setTitle("Nouveau...");
        this.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
        this.setModal(true);
        this.setResizable(false);
		this.setLocationRelativeTo(null);
		this.construireFenetre();
	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//METHODES
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public void construireFenetre(){
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//interface
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//-panel_html
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//--initialisation
		this.panel_html= new JPanel();
		this.panel_html.setLayout(new BoxLayout(this.panel_html, BoxLayout.LINE_AXIS));
		this.checkbox_html= new JCheckBox("Html :");
		this.textfield_html=new JTextField();
		this.textfield_html.setMaximumSize(new Dimension(200,20));
		this.label_html=new JLabel(".html");

		//--construction
		this.panel_html.add(this.checkbox_html);
		this.panel_html.add(Box.createRigidArea(new Dimension(100,0)));
		this.panel_html.add(this.textfield_html);
		this.panel_html.add(this.label_html);	
		
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//-panel_css
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//--initialisation
		this.panel_css= new JPanel();
		this.panel_css.setLayout(new BoxLayout(this.panel_css, BoxLayout.LINE_AXIS));
		this.checkbox_css= new JCheckBox("Css :");
		this.textfield_css=new JTextField();
		this.textfield_css.setMaximumSize(new Dimension(200,20));
		this.label_css=new JLabel(".css");
		
		//--construction
		this.panel_css.add(this.checkbox_css);
		this.panel_css.add(Box.createRigidArea(new Dimension(110,0)));
		this.panel_css.add(this.textfield_css);
		this.panel_css.add(this.label_css);
		
		
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//-panel_js
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//--initialisation
		this.panel_js= new JPanel();
		this.panel_js.setLayout(new BoxLayout(this.panel_js, BoxLayout.LINE_AXIS));
		this.checkbox_js= new JCheckBox("Javascript :");
		this.textfield_js=new JTextField();
		this.textfield_js.setMaximumSize(new Dimension(200,20));
		this.label_js=new JLabel(".js");
		
		//--construction
		this.panel_js.add(this.checkbox_js);
		this.panel_js.add(Box.createRigidArea(new Dimension(80,0)));
		this.panel_js.add(this.textfield_js);
		this.panel_js.add(this.label_js);
		
		
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//-panel_boutons
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//--initialisation
		this.panel_boutons= new JPanel();
		this.panel_boutons.setLayout(new BoxLayout(this.panel_boutons, BoxLayout.LINE_AXIS));
		this.button_ajouter= new JButton("Ajouter");
		this.button_annuler= new JButton("Annuler");
		
		//--construction
		this.panel_boutons.add(Box.createRigidArea(new Dimension(180,0)));
		this.panel_boutons.add(this.button_ajouter);
		this.panel_boutons.add(Box.createRigidArea(new Dimension(10,0)));
		this.panel_boutons.add(this.button_annuler);
		
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//-panel_fichier
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//--initialisation
		this.panel_fichier= new JPanel();
		this.panel_fichier.setLayout(new BoxLayout(this.panel_fichier, BoxLayout.PAGE_AXIS));
		this.panel_fichier.setBorder(new TitledBorder("Ajouter un nouveau fichier"));
		this.panel_fichier.add(Box.createRigidArea(new Dimension(0,10)));
		this.panel_fichier.add(this.panel_html);
		this.panel_fichier.add(Box.createRigidArea(new Dimension(0,10)));
		this.panel_fichier.add(this.panel_css);
		this.panel_fichier.add(Box.createRigidArea(new Dimension(0,10)));
		this.panel_fichier.add(this.panel_js);
		this.panel_fichier.add(Box.createRigidArea(new Dimension(0,5)));
		
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//-panel
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//--initialisation
		this.panel= new JPanel();
		this.panel.setLayout(new BoxLayout(this.panel, BoxLayout.PAGE_AXIS));
		
		//--construction
		this.panel.add(this.panel_fichier);
		this.panel.add(new JSeparator());
		this.panel.add(this.panel_boutons);
		this.panel.add(Box.createRigidArea(new Dimension(0,10)));
		this.setContentPane(this.panel);
		
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//écouteurs
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		this.button_annuler.addActionListener(new Clic());
		this.button_ajouter.addActionListener(new Clic());
		this.textfield_css.addKeyListener(new Clavier());
		this.textfield_js.addKeyListener(new Clavier());
		this.textfield_html.addKeyListener(new Clavier());
		this.checkbox_html.addItemListener(new Item());
		this.checkbox_css.addItemListener(new Item());
		this.checkbox_js.addItemListener(new Item());

	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public void active_textfield_html(boolean b){
		this.textfield_html.setEnabled(b);
	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public void active_textfield_css(boolean b){
		this.textfield_css.setEnabled(b);
	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public void active_textfield_js(boolean b){
		this.textfield_js.setEnabled(b);
	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public void active_textfields(boolean html, boolean css, boolean js){
		this.textfield_html.setEnabled(html);
		this.textfield_css.setEnabled(css);
		this.textfield_js.setEnabled(js);

	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public void active_checkboxes(){
		this.checkbox_css.setSelected(false);
		this.checkbox_js.setSelected(false);
		this.checkbox_html.setSelected(false);
	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public void active_ajouter(){
		this.button_ajouter.setEnabled(false);
	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public void initialise_action(){
		this.active_textfields(false,false,false);
		this.active_checkboxes();
		this.active_ajouter();
	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		//ECOUTEURS
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:

	public class Clic implements ActionListener{
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		@Override
		public void actionPerformed(ActionEvent e) {
			if(e.getSource()==button_ajouter){
				if((checkbox_html.isSelected()) && (textfield_html.getText().isEmpty()==false)){
					Principale.demandeAjoutHtml(textfield_html.getText()+".html");
				}
				
				if((checkbox_css.isSelected()) && (textfield_css.getText().isEmpty()==false)){
					Principale.demandeAjoutCss(textfield_css.getText()+".css");
				}
				
				if((checkbox_js.isSelected()) && (textfield_js.getText().isEmpty()==false)){
					Principale.demandeAjoutJs(textfield_js.getText()+".js");
				}
				dispose();
			}
			
			if(e.getSource()==button_annuler){
				dispose();
			}
			
		}
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	}
	
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public class Clavier implements KeyListener{
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		@Override
		public void keyPressed(KeyEvent e) {
			
		}
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		@Override
		public void keyReleased(KeyEvent e) {
			
			if(e.getSource()==textfield_html){
				if(!(textfield_html.getText().isEmpty())){
					button_ajouter.setEnabled(true);
				}
				else{
					button_ajouter.setEnabled(false);
				}
			}
			
			if(e.getSource()==textfield_css){
				if(!(textfield_css.getText().isEmpty())){
					button_ajouter.setEnabled(true);
				}
				else{
					button_ajouter.setEnabled(false);
				}
			}
			
			if(e.getSource()==textfield_js){
				if(!(textfield_js.getText().isEmpty())){
					button_ajouter.setEnabled(true);
				}
				else{
					button_ajouter.setEnabled(false);
				}
			}
		}
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		@Override
		public void keyTyped(KeyEvent e) {
			
		}
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public class Item implements ItemListener{
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		@Override
		public void itemStateChanged(ItemEvent e) {
			///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
			if(e.getSource()==checkbox_html){
				if(checkbox_html.isSelected()){
					active_textfield_html(true);
				}
				else{
					active_textfield_html(false);
				}
			}
			///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:

			if(e.getSource()==checkbox_css){
				if(checkbox_css.isSelected()){
					active_textfield_css(true);

				}
				else{
					active_textfield_css(false);
				}
			}
			///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:

			if(e.getSource()==checkbox_js){
				if(checkbox_js.isSelected()){
					active_textfield_js(true);

				}
				else{
					active_textfield_js(false);
				}
			}
			///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
		}
		///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	}
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////:
	public static void main(String[] args){
		Nouveau n = new Nouveau();
		n.initialise_action();
		n.setVisible(true);
	}
}
